<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" name="viewport" content="width=device-width"/>
        <title>Practice Exercise 11.9</title>
        <style>
            .box {
                width: 100px;
                height: 100px;
                border: 1px solid black;
                background-color: white;
            }

            .red {
                background-color: red;
            }
        </style>
    </head>
    <body>
        <div class="box">
            1
            <div id="dragme" draggable="true">
                Drag Me Please
            </div>
        </div>
        <div class="box">2</div>

        <script>
            let draggableELe = document.querySelector('#dragme');

            draggableELe.addEventListener('dragstart', () => {
                draggableELe.style.opacity = 0.5;
            });

            draggableELe.addEventListener('dragend', () => {
                draggableELe.style.opacity = '';
            });
            
            let dropBox = document.querySelectorAll('.box');

            dropBox.forEach( (e) => {
                e.addEventListener('dragenter', (e) => {
                    //draggableELe.classList.add('red'); // THIS CHANGES THE INNER DIV/TEXT BACKGROUND COLOR TO RED 
                    e.target.classList.add('red'); // THIS CHANGES THE WHOLE BACKGROUND COLOR TO RED
                    console.log('Enter');
                });

                e.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    //console.log('Moving Over');
                });

                e.addEventListener('dragleave', (e) => {
                    //draggableELe.classList.remove('red');
                    e.target.classList.remove('red');
                    console.log('Leaving');
                })

                e.addEventListener('drop', (e) => {
                    // e = event.target;
                    // e.appendChild(draggableELe);

                    e.target.appendChild(draggableELe);
                    console.log('Dropped');
                });
                
            });


        </script>
    </body>
</html>